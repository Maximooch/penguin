# Penguin Command Configuration - General Commands
# Commands that work in both CLI and TUI interfaces
# Interface-specific commands are in cli_commands.yml and tui_commands.yml

version: "2.0"

# Command categories for better organization
categories:
  - name: chat
    description: "Chat and conversation management"
    icon: "üí¨"
  
  - name: model
    description: "Model selection and configuration"
    icon: "ü§ñ"
  
  - name: task
    description: "Task and project management"
    icon: "üìã"
  
  - name: agent
    description: "Agent management"
    icon: "üß†"
  
  - name: system
    description: "System commands"
    icon: "‚öôÔ∏è"

# Command definitions - General (both CLI and TUI)
commands:
  # Core system commands
  - name: help
    category: system
    description: "Show available commands"
    aliases: ["h", "?"]
    handler: "_show_enhanced_help"
    
  - name: clear
    category: chat
    description: "Clear the chat history"
    aliases: ["cls", "reset"]
    handler: "action_clear_log"
    
  - name: quit
    category: system
    description: "Exit the application"
    aliases: ["exit", "q"]
    handler: "action_quit"
    
  # Chat management
  - name: "chat list"
    category: chat
    description: "List available conversations"
    handler: "_handle_chat_list"
    
  - name: "chat load"
    category: chat
    description: "Load a conversation by ID"
    parameters:
      - name: session_id
        type: string
        required: true
        description: "Session ID to load"
    handler: "_handle_chat_load"
    
  - name: "chat save"
    category: chat
    description: "Save current conversation"
    handler: "_handle_chat_save"
    enabled: false
    
  - name: "chat summary"
    category: chat
    description: "Show conversation summary"
    handler: "_handle_chat_summary"
    enabled: false
    
  # RunMode commands
  - name: "run continuous"
    category: task
    description: "Start continuous RunMode"
    parameters:
      - name: task
        type: string
        required: false
        description: "Optional task description"
    handler: "_handle_run_continuous"
    
  - name: "run task"
    category: task
    description: "Run a specific task"
    parameters:
      - name: name
        type: string
        required: true
        description: "Task name"
      - name: description
        type: string
        required: false
        description: "Task description"
    handler: "_handle_run_task"
    
  - name: "run stop"
    category: task
    description: "Stop current RunMode execution"
    handler: "_handle_run_stop"
    
  # Task management
  - name: "task create"
    category: task
    description: "Create a new task"
    parameters:
      - name: name
        type: string
        required: true
      - name: description
        type: string
        required: false
    handler: "_handle_task_create"
    
  - name: "task list"
    category: task
    description: "List all tasks"
    handler: "_handle_task_list"
    
  - name: "task complete"
    category: task
    description: "Mark task as complete"
    parameters:
      - name: task_id
        type: string
        required: true
    handler: "_handle_task_complete"
    
  # Agent management
  - name: "agent list"
    category: agent
    description: "List registered agents"
    handler: "_handle_agent_command"

  - name: "agent personas"
    category: agent
    description: "Show available personas"
    handler: "_handle_agent_command"

  - name: "agent spawn"
    category: agent
    description: "Spawn a new agent (options as key=value pairs)"
    parameters:
      - name: agent_id
        type: string
        required: true
      - name: options
        type: string
        required: false
        description: "Additional options (persona=, parent=, etc.)"
    handler: "_handle_agent_command"

  - name: "agent persona"
    category: agent
    description: "Apply a persona to an agent"
    parameters:
      - name: agent_id
        type: string
        required: true
      - name: persona
        type: string
        required: true
      - name: options
        type: string
        required: false
    handler: "_handle_agent_command"

  - name: "agent activate"
    category: agent
    description: "Set the active agent"
    parameters:
      - name: agent_id
        type: string
        required: true
    handler: "_handle_agent_command"

  - name: "agent info"
    category: agent
    description: "Show detailed information for an agent"
    parameters:
      - name: agent_id
        type: string
        required: true
    handler: "_handle_agent_command"
    
  # Project management
  - name: "project create"
    category: task
    description: "Create a new project"
    parameters:
      - name: name
        type: string
        required: true
      - name: description
        type: string
        required: false
    handler: "_handle_project_create"
    
  - name: "project list"
    category: task
    description: "List all projects"
    handler: "_handle_project_list"
    
  - name: list
    category: task
    description: "Show all projects and tasks"
    handler: "_handle_list"

  # Image message
  - name: image
    category: chat
    description: "Send an image with optional description"
    parameters:
      - name: path
        type: string
        required: true
        description: "Path to the image file"
      - name: description
        type: string
        required: false
        description: "Optional description text"
    handler: "_handle_image"
    
  # Model commands
  - name: models
    category: model
    description: "Interactive model selection"
    handler: "_handle_models"
    
  - name: "model set"
    category: model
    description: "Set specific model"
    parameters:
      - name: model_id
        type: string
        required: true
        description: "Model identifier"
    handler: "_handle_model_set"
    
  - name: "stream on"
    category: model
    description: "Enable streaming mode"
    handler: "_handle_stream_on"
    
  - name: "stream off"
    category: model
    description: "Disable streaming mode"
    handler: "_handle_stream_off"
    
  # Token management
  - name: tokens
    category: debug
    description: "Show token usage"
    handler: "_handle_tokens"
    
  - name: "tokens reset"
    category: debug
    description: "Reset token counter"
    handler: "_handle_tokens_reset"
    
  - name: "tokens detail"
    category: debug
    description: "Show detailed token breakdown"
    handler: "_handle_tokens_detail"

  # Prompt mode commands
  - name: "mode set"
    category: system
    description: "Set prompt mode (direct|review|implement|test|terse|explain|bench_minimal)"
    parameters:
      - name: name
        type: string
        required: true
        description: "Mode name"
    handler: "_handle_mode_set"

  - name: "mode show"
    category: system
    description: "Show current prompt mode"
    handler: "_handle_mode_show"

  # Shortcuts for common modes
  - name: review
    category: system
    description: "Shortcut: set prompt mode to 'review'"
    handler: "_handle_mode_review"

  - name: implement
    category: system
    description: "Shortcut: set prompt mode to 'implement'"
    handler: "_handle_mode_implement"

  - name: test
    category: system
    description: "Shortcut: set prompt mode to 'test'"
    handler: "_handle_mode_test"

  # Context commands
  - name: "context list"
    category: chat
    description: "List context files"
    handler: "_handle_context_list"
    
  - name: "context load"
    category: chat
    description: "Load context file"
    parameters:
      - name: file
        type: string
        required: true
        description: "File path to load"
    handler: "_handle_context_load"
  
  - name: "context add"
    category: chat
    description: "Copy files into workspace context (supports glob)"
    handler: "_handle_context_add"
    enabled: true
  
  - name: "context write"
    category: chat
    description: "Write text to a file under workspace context"
    handler: "_handle_context_write"
    enabled: true
  
  - name: "context edit"
    category: chat
    description: "Replace text in a workspace context file"
    handler: "_handle_context_edit"
    enabled: true
  
  - name: "context remove"
    category: chat
    description: "Remove a workspace context file"
    handler: "_handle_context_remove"
    enabled: true
  
  - name: "context note"
    category: chat
    description: "Create a markdown note in workspace context/notes"
    handler: "_handle_context_note"
    enabled: true
    
  - name: "context clear"
    category: chat
    description: "Clear current context"
    handler: "_handle_context_clear"

  # Output formatting commands
  - name: "output style get"
    category: system
    description: "Show current output formatting style"
    handler: "_handle_output_command"

  - name: "output style set"
    category: system
    description: "Set output formatting style (steps_final|plain|json_guided)"
    parameters:
      - name: style
        type: string
        required: true
        description: "Output style name"
    handler: "_handle_output_command"
