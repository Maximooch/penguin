# Penguin TUI Command Configuration
# This file defines all available commands in the TUI
# Future: Can be extended by plugins and MCP servers

version: "1.0"

# Command categories for better organization
categories:
  - name: chat
    description: "Chat and conversation management"
    icon: "üí¨"
  
  - name: model
    description: "Model selection and configuration"
    icon: "ü§ñ"
  
  - name: task
    description: "Task and project management"
    icon: "üìã"
  
  - name: debug
    description: "Debugging and diagnostics"
    icon: "üîç"
  
  - name: system
    description: "System commands"
    icon: "‚öôÔ∏è"

# Command definitions
commands:
  # Chat commands
  - name: help
    category: system
    description: "Show available commands"
    aliases: ["h", "?"]
    handler: "_show_enhanced_help"
    
  - name: clear
    category: chat
    description: "Clear the chat history"
    aliases: ["cls", "reset"]
    handler: "action_clear_log"
    
  - name: quit
    category: system
    description: "Exit the application"
    aliases: ["exit", "q"]
    handler: "action_quit"
    
  # Chat management
  - name: "chat list"
    category: chat
    description: "List available conversations"
    handler: "_handle_chat_list"
    
  - name: "chat load"
    category: chat
    description: "Load a conversation by ID"
    parameters:
      - name: session_id
        type: string
        required: true
        description: "Session ID to load"
    handler: "_handle_chat_load"
    
  - name: "chat save"
    category: chat
    description: "Save current conversation"
    handler: "_handle_chat_save"
    enabled: false
    
  - name: "chat summary"
    category: chat
    description: "Show conversation summary"
    handler: "_handle_chat_summary"
    enabled: false
    # TODO: Implement chat summary
    
  # RunMode commands
  - name: "run continuous"
    category: task
    description: "Start continuous RunMode"
    parameters:
      - name: task
        type: string
        required: false
        description: "Optional task description"
    handler: "_handle_run_continuous"
    
  - name: "run task"
    category: task
    description: "Run a specific task"
    parameters:
      - name: name
        type: string
        required: true
        description: "Task name"
      - name: description
        type: string
        required: false
        description: "Task description"
    handler: "_handle_run_task"
    
  - name: "run stop"
    category: task
    description: "Stop current RunMode execution"
    handler: "_handle_run_stop"
    
  # Task management
  - name: "task create"
    category: task
    description: "Create a new task"
    parameters:
      - name: name
        type: string
        required: true
      - name: description
        type: string
        required: false
    handler: "_handle_task_create"
    
  - name: "task list"
    category: task
    description: "List all tasks"
    handler: "_handle_task_list"
    
  - name: "task complete"
    category: task
    description: "Mark task as complete"
    parameters:
      - name: task_id
        type: string
        required: true
    handler: "_handle_task_complete"
    
  # Project management
  - name: "project create"
    category: task
    description: "Create a new project"
    parameters:
      - name: name
        type: string
        required: true
      - name: description
        type: string
        required: false
    handler: "_handle_project_create"
    
  - name: "project list"
    category: task
    description: "List all projects"
    handler: "_handle_project_list"
    
  - name: list
    category: task
    description: "Show all projects and tasks"
    handler: "_handle_list"

  # Image message (TUI implementation)
  - name: image
    category: chat
    description: "Send an image with optional description"
    parameters:
      - name: path
        type: string
        required: true
        description: "Path to the image file (drag-and-drop supported)"
      - name: description
        type: string
        required: false
        description: "Optional description text"
    handler: "_handle_image"

  # Attachment management
  - name: "attachments clear"
    category: chat
    description: "Clear pending image attachments for the next message"
    handler: "_attachments_clear"
    
  # Model commands
  - name: models
    category: model
    description: "Interactive model selection"
    handler: "_handle_models"
    
  - name: "model set"
    category: model
    description: "Set specific model"
    parameters:
      - name: model_id
        type: string
        required: true
        description: "Model identifier"
    handler: "_handle_model_set"
    
  - name: "stream on"
    category: model
    description: "Enable streaming mode"
    handler: "_handle_stream_on"
    
  - name: "stream off"
    category: model
    description: "Disable streaming mode"
    handler: "_handle_stream_off"
    
  # Token management
  - name: tokens
    category: debug
    description: "Show token usage"
    handler: "_handle_tokens"
    
  # Tools display controls
  - name: "tools compact on"
    category: system
    description: "Enable compact rendering for tool/action outputs"
    handler: "_handle_tools_compact_on"

  - name: "tools compact off"
    category: system
    description: "Disable compact rendering for tool/action outputs"
    handler: "_handle_tools_compact_off"

  - name: "tools preview"
    category: system
    description: "Set preview lines for compact tool outputs"
    parameters:
      - name: lines
        type: string
        required: true
        description: "Number of lines to show before collapsing"
    handler: "_handle_tools_preview"

  - name: diff
    category: debug
    description: "Show a syntax-aware diff between two files or git refs"
    parameters:
      - name: a
        type: string
        required: true
        description: "Left file or git ref:path"
      - name: b
        type: string
        required: true
        description: "Right file or git ref:path"
    handler: "_handle_diff"
    
  - name: "tokens reset"
    category: debug
    description: "Reset token counter"
    handler: "_handle_tokens_reset"
    
  - name: "tokens detail"
    category: debug
    description: "Show detailed token breakdown"
    handler: "_handle_tokens_detail"
    
  # Context commands
  - name: "context list"
    category: chat
    description: "List context files"
    handler: "_handle_context_list"
    
  - name: "context load"
    category: chat
    description: "Load context file"
    parameters:
      - name: file
        type: string
        required: true
        description: "File path to load"
    handler: "_handle_context_load"
  
  - name: "context add"
    category: chat
    description: "Copy files into workspace context (supports glob). Use --workspace/--project"
    handler: "_handle_context_add"
    enabled: true
  
  - name: "context write"
    category: chat
    description: "Write text to a file under workspace context"
    handler: "_handle_context_write"
    enabled: true
  
  - name: "context edit"
    category: chat
    description: "Replace text in a workspace context file"
    handler: "_handle_context_edit"
    enabled: true
  
  - name: "context remove"
    category: chat
    description: "Remove a workspace context file"
    handler: "_handle_context_remove"
    enabled: true
  
  - name: "context note"
    category: chat
    description: "Create a markdown note in workspace context/notes"
    handler: "_handle_context_note"
    enabled: true
    
  - name: "context clear"
    category: chat
    description: "Clear current context"
    handler: "_handle_context_clear"
    
  # Debug commands
  - name: debug
    category: debug
    description: "Show debug information"
    handler: "action_show_debug"
    
  - name: "debug tokens"
    category: debug
    description: "Debug token counting"
    handler: "_handle_debug_tokens"
    
  - name: "debug stream"
    category: debug
    description: "Debug streaming"
    handler: "_handle_debug_stream"
    
  - name: "debug sample"
    category: debug
    description: "Show sample debug data"
    handler: "_handle_debug_sample"
    
  - name: recover
    category: debug
    description: "Force recovery of stuck streams"
    handler: "_force_stream_recovery"
    
  # Theme commands (future)
  - name: "theme list"
    category: system
    description: "List available themes"
    handler: "_handle_theme_list"
    enabled: true
    
  - name: "theme set"
    category: system
    description: "Set UI theme"
    parameters:
      - name: theme_name
        type: string
        required: true
        description: "Theme name (ocean, nord, dracula, etc.)"
    handler: "_handle_theme_set"
    enabled: true

  # Layout commands
  - name: "layout set"
    category: system
    description: "Set chat layout style"
    parameters:
      - name: mode
        type: string
        required: true
        description: "Layout mode (flat or boxed)"
    handler: "_handle_layout_set"

  - name: "layout get"
    category: system
    description: "Show current layout mode"
    handler: "_handle_layout_get"

  # View density commands
  - name: "view set"
    category: system
    description: "Set view density (compact or detailed)"
    parameters:
      - name: mode
        type: string
        required: true
        description: "View mode (compact|detailed)"
    handler: "_handle_view_set"

  - name: "view get"
    category: system
    description: "Show current view mode"
    handler: "_handle_view_get"

  # Status sidebar commands
  - name: "status show"
    category: system
    description: "Show status sidebar"
    handler: "_handle_status_show"

  - name: "status hide"
    category: system
    description: "Hide status sidebar"
    handler: "_handle_status_hide"

  - name: "status toggle"
    category: system
    description: "Toggle status sidebar visibility"
    handler: "_handle_status_toggle"

# Plugin command extension points (future)
plugins:
  enabled: false
  directories:
    - "~/.penguin/plugins"
    - "./plugins"
  
# MCP server command integration (future)
mcp:
  enabled: false
  servers: []
